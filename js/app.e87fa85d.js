(function(e){function t(t){for(var a,r,c=t[0],s=t[1],m=t[2],u=0,l=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&l.push(i[r][0]),i[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);d&&d(t);while(l.length)l.shift()();return o.push.apply(o,m||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,c=1;c<n.length;c++){var s=n[c];0!==i[s]&&(a=!1)}a&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},i={app:0},o=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/dsprogsav/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var m=0;m<c.length;m++)t(c[m]);var d=s;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";n("85ec")},"043f":function(e,t,n){e.exports=n.p+"img/Wizardry.c0ba743a.png"},"07e7":function(e,t,n){e.exports=n.p+"img/bg.f77eceb5.jpg"},1153:function(e,t,n){"use strict";n("37a7")},1515:function(e,t,n){e.exports=n.p+"img/bg.682edef4.jpg"},"173f":function(e,t,n){"use strict";n("5e89")},"18e0":function(e,t,n){e.exports=n.p+"img/logo.2d5d7821.png"},"25fc":function(e,t,n){"use strict";n("51cc")},"37a7":function(e,t,n){},"3c82":function(e,t,n){e.exports=n.p+"img/Wonders.261ba0b9.png"},"51cc":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{style:"background-image: linear-gradient(transparent 95%, black), url("+e.currentBg+")",attrs:{id:"app"}},[a("div",{attrs:{id:"nav"}},[a("img",{attrs:{src:n("a173"),id:"fire"}}),e._l(e.gameList,(function(t){return a("a",{key:t,class:e.currentGame===t?"active":null,on:{click:function(n){e.setGameName(t),e.update()}}},[a("img",{attrs:{src:e.images.logo[t]}})])})),a("div",{staticClass:"separator"}),a("div",{staticClass:"appControls"},[a("button",{on:{click:e.save}},[e._v("Save")]),a("button",{on:{click:e.load}},[e._v("Load")])]),e._l(e.gameData[e.currentGame].sections,(function(t){return a("router-link",{key:t.path,staticClass:"section",attrs:{to:"/"+e.currentGame+"/"+t.path}},[a("img",{attrs:{src:t.image}})])}))],2),a("router-view",{staticClass:"marginTop"})],1)},o=[],r=n("5530"),c=(n("b64b"),n("ac1f"),n("1276"),n("5319"),{bg:{dsRemastered:n("07e7"),ds2sotfs:n("1515")},logo:{dsRemastered:n("18e0"),ds2sotfs:n("ccfd")}}),s={dsRemastered:{sections:[{path:"armory",image:n("91f6")},{path:"pyromancy",image:n("ef9d")},{path:"religion",image:n("710f")}],logo:n("18e0"),bg:n("07e7")},ds2sotfs:{sections:[{path:"corruption",image:n("6795")},{path:"gestures",image:n("ab89")},{path:"pyromancy",image:n("cac6")},{path:"wizardry",image:n("043f")},{path:"wonders",image:n("3c82")}],logo:n("ccfd"),bg:n("1515")}},m=n("2f62"),d=(n("c740"),n("b0c0"),n("a434"),n("4fad"),n("d3b7"),n("3ca3"),n("ddb0"),n("a002")),u=n.n(d);a["a"].use(m["a"]);var l=new m["a"].Store({state:{dsRemastered:{armory:[],pyromancy:[],religion:[]},ds2sotfs:{corruption:[],gestures:[],pyromancy:[],wizardry:[],wonders:[]},loading:!0,currentGame:"dsRemastered"},mutations:{addNewItem:function(e,t){e[t.gameName][t.sectionName].push(t.data)},toggleDone:function(e,t){var n=e[t.gameName][t.sectionName].findIndex((function(e){return e.name===t.key}));e[t.gameName][t.sectionName][n].done=!e[t.gameName][t.sectionName][n].done},deleteItem:function(e,t){var n=e[t.gameName][t.sectionName].findIndex((function(e){return e.name===t.key}));e[t.gameName][t.sectionName].splice(n,1)},setGameData:function(e,t){e[t.gameName]=t.data,e.needsUpdate=!0},setLoading:function(e,t){e.loading=t},setGameName:function(e,t){e.currentGame=t}},actions:{save:function(e){for(var t=Object.entries(e.state),n=[],a=0;a<t.length-1;a++)u.a.setItem(t[a][0],t[a][1]),n.push(t[a][0]);u.a.setItem("keys",n)},load:function(e){e.commit("setLoading",!0),u.a.getItem("keys").then((function(t){var n=[];for(var a in t)n.push(u.a.getItem(t[a]));Promise.all(n).then((function(n){for(var a in n)e.commit("setGameData",{gameName:t[a],data:n[a]});e.commit("setLoading",!1)}))}))}},getters:{loading:function(e){return e.loading},currentGame:function(e){return e.currentGame}}}),f={name:"App",computed:Object(r["a"])(Object(r["a"])({currentBg:function(){return s[l.state.currentGame].bg}},Object(m["c"])(["currentGame"])),{},{images:function(){return c},gameData:function(){return s},gameList:function(){return Object.keys(s)}}),methods:Object(r["a"])(Object(r["a"])(Object(r["a"])({},Object(m["b"])(["save","load"])),Object(m["d"])(["setGameName"])),{},{update:function(){this.$router.push("/"+this.currentGame+"/"+this.gameData[this.currentGame].sections[0].path)}}),mounted:function(){l.dispatch("load"),window.location.hash.replace("#/","").split("/")[0]!==this.currentGame&&this.setGameName(window.location.hash.replace("#/","").split("/")[0])}},g=f,p=(n("034f"),n("2877")),h=Object(p["a"])(g,i,o,!1,null,null,null),b=h.exports,v=n("8c4f"),w=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},y=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("p",[e._v("Change categories from the top menu. You can choose from one of the games to populate the item categories.")])])}],N={name:"Home"},_=N,k=(n("25fc"),Object(p["a"])(_,w,y,!1,null,"0d7a3f72",null)),C=k.exports,j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"section"},[n("div",{staticClass:"addContainer"},[n("button",{on:{click:e.toggleAddWindow}},[e._v("Add")]),n("transition",{attrs:{name:"fade"}},[e.showAddWindow?n("add-window",{staticClass:"addWindow",attrs:{addCallback:e.addItem,cancelCallback:e.toggleAddWindow}}):e._e()],1)],1),n("div",{staticClass:"itemContainer"},e._l(e.items,(function(t){return n("item",{key:t.name,attrs:{name:t.name,description:t.description,done:t.done,imageURL:t.image,clickCallback:e.toggleDone,deleteCallback:e.deleteItem}})})),1)])},x=[],O=(n("7db0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"card",class:e.done?"done":null,on:{click:e.toggleDone}},[n("div",{staticClass:"main"},[n("img",{staticClass:"image",attrs:{src:e.imageURL}}),n("p",{staticClass:"name",class:e.name.length>=20?"longName":null},[e._v(e._s(e.name))])]),n("div",{staticClass:"desc"},[n("div",{staticClass:"scrollable"},[n("p",[e._v(" "+e._s(e.description)+" ")])]),n("div",{staticClass:"controls",on:{click:function(e){e.stopPropagation()}}},[n("button",{on:{click:e.deleteItem}},[e._v("Delete")])])])])}),I=[],G={name:"Item",props:{name:String,done:Boolean,description:String,imageURL:String,clickCallback:Function,deleteCallback:Function},methods:{toggleDone:function(){this.clickCallback(this.name)},deleteItem:function(){this.deleteCallback(this.name)}}},A=G,E=(n("173f"),Object(p["a"])(A,O,I,!1,null,"eab12fa4",null)),S=E.exports,D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"window"},[n("h1",[e._v("Add a new entry")]),n("form",[n("div",[n("label",{attrs:{for:"name"}},[e._v("Name ")]),n("input",{class:e.nameError?"err":null,attrs:{type:"text",id:"name"},on:{input:function(t){e.nameError=!1}}})]),e._m(0),e._m(1),e._m(2),n("div",[n("input",{class:e.imageError?"err":null,attrs:{type:"file",id:"img",accept:"image/*"},on:{change:function(t){e.imageError=!1}}})])]),n("div",{staticClass:"controls"},[n("button",{attrs:{id:"add"},on:{click:e.add}},[e._v("Add")]),n("button",{attrs:{id:"cancel"},on:{click:e.cancelCallback}},[e._v("Cancel")])])])},P=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",{attrs:{for:"desc"}},[e._v("Description ")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("textarea",{attrs:{id:"desc"}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("label",{attrs:{for:"img"}},[e._v("Image ")])])}],W={name:"AddWindow",props:{addCallback:Function,cancelCallback:Function},data:function(){return{nameError:!1,imageError:!1}},methods:{add:function(){var e,t=this,n=document.querySelector("#name").value,a=document.querySelector("#desc").value,i=document.querySelector("#img").files[0];if(""!==n)if(void 0!==i){var o=new Promise((function(e,t){var n=new FileReader;n.onload=function(){e(n.result)},n.onerror=t,n.readAsDataURL(i)}));o.then((function(i){e=i,t.addCallback({name:n,description:a,image:e})})).catch((function(e){return console.error(e)}))}else this.imageError=!0;else this.nameError=!0}}},R=W,L=(n("aea9"),Object(p["a"])(R,D,P,!1,null,"0d5e2d48",null)),$=L.exports;function U(e){return new Promise((function(t){var n=document.createElement("canvas"),a=n.getContext("2d"),i=new Image;i.src=e,i.onload=function(){i.width>i.height?(n.width=250,n.height=250*i.height/i.width):i.height>i.width?(n.height=250,n.width=250*i.width/i.height):(n.width=250,n.height=250),a.drawImage(i,0,0,n.width,n.height),t(n.toDataURL())}}))}var F={name:"Section",data:function(){return{items:[],showAddWindow:!1}},props:{gameName:String,sectionName:String},computed:Object(r["a"])({compressed:function(){return this.compressedImage}},Object(m["c"])(["loading","currentGame"])),components:{Item:S,AddWindow:$},methods:{addItem:function(e){var t=this,n=l.state[this.gameName][this.sectionName].find((function(t){return t.name===e.name}));void 0===n?U(e.image).then((function(n){l.commit("addNewItem",{gameName:t.gameName,sectionName:t.sectionName,data:Object(r["a"])(Object(r["a"])({},e),{},{image:n,done:!1})}),t.toggleAddWindow()})):alert("An item with that name already exists in this section!")},toggleDone:function(e){l.commit("toggleDone",{gameName:this.gameName,sectionName:this.sectionName,key:e})},deleteItem:function(e){l.commit("deleteItem",{gameName:this.gameName,sectionName:this.sectionName,key:e})},toggleAddWindow:function(){this.showAddWindow=!this.showAddWindow},updateContents:function(){this.items=l.state[this.gameName][this.sectionName]}},watch:{gameName:function(){this.updateContents()},sectionName:function(){this.updateContents()},loading:function(){this.updateContents()}},created:function(){this.items=l.state[this.gameName][this.sectionName]}},M=F,T=(n("1153"),Object(p["a"])(M,j,x,!1,null,"f14b15e6",null)),q=T.exports;a["a"].use(v["a"]);var z=[{path:"/",name:"Home",component:C},{path:"/:gameName/:sectionName",component:q,props:function(e){return{sectionName:e.params.sectionName,gameName:e.params.gameName}}}],B=new v["a"]({mode:"hash",base:"/dsprogsav/",routes:z}),H=B;document.title="Dark Souls Achievement Progress Saver",a["a"].config.productionTip=!1,new a["a"]({router:H,store:l,render:function(e){return e(b)}}).$mount("#app")},"5e89":function(e,t,n){},6795:function(e,t,n){e.exports=n.p+"img/Corruption.6e7a3e5d.png"},"710f":function(e,t,n){e.exports=n.p+"img/Religion.8581eb94.png"},"72bc":function(e,t,n){},"85ec":function(e,t,n){},"91f6":function(e,t,n){e.exports=n.p+"img/Armory.309c925f.png"},a173:function(e,t,n){e.exports=n.p+"img/fire.a5c83d9b.gif"},ab89:function(e,t,n){e.exports=n.p+"img/Gestures.1cced0c1.png"},aea9:function(e,t,n){"use strict";n("72bc")},cac6:function(e,t,n){e.exports=n.p+"img/Pyromancy.4bf6cfc5.png"},ccfd:function(e,t,n){e.exports=n.p+"img/logo.874b7c5a.png"},ef9d:function(e,t,n){e.exports=n.p+"img/Pyromancy.d6030ff3.png"}});
//# sourceMappingURL=app.e87fa85d.js.map